<section class="wrapper">
  <h1 class="title">Administrador de usuarios</h1>

  <div class="userForm">
    <form [formGroup]="formUser" (ngSubmit)="proccessUser()">
      <div class="form-group">
        <label for="">Nombre</label>
        <input type="text"
               class="form-control"
               name="name"
               formControlName="name"
               >
               <!-- <span [hidden]="formUser.get('name')?.valid || formUser.get('name')?.pristine" class="hint">Campo requerido</span> -->
               <!-- <span [hidden]="name?.valid || name?.pristine" class="hint">Campo requerido</span> -->
               <span *ngIf="!getFormControl('name')?.valid && !getFormControl('name')?.pristine" class="hint">Campo requerido</span>
      </div>

      <div class="form-group">
        <label for="">Email</label>
        <input type="email"
               class="form-control"
               name="email"
               formControlName="email"
               >
               <span *ngIf="!getFormControl('email')?.valid && !getFormControl('email')?.pristine " class="hint">
                {{getFormControl('email')?.errors?.['required'] && 'Campo requerido'}}
                {{getFormControl('email')?.errors?.['pattern'] && 'Formato Email Incorecto'}}
              </span>

               <!-- <span [hidden]="email.valid || email.pristine || !email.errors?.['email']" class="hint">Formato Email Incorecto</span> -->
      </div>

      <div class="form-group">
        <label for="">Telefono</label>
        <input type="text"
               class="form-control"
               name="phone"
               formControlName="phone"
               required>
               <!-- <span [hidden]="phone.valid || phone.pristine" class="hint">Campo requerido</span> -->
               <div *ngIf="!getFormControl('phone')?.valid && !getFormControl('phone')?.pristine" class="hint">
                <span>{{getFormControl('phone')?.errors?.['required'] && 'Campo requerido'}}</span>
                <span>{{getFormControl('phone')?.errors?.['minlength'] && 'Minimo 7 caracteres'}}</span>
                <span>{{getFormControl('phone')?.errors?.['maxlength'] && 'MÃ¡ximo 10 caracteres'}}</span>
                <span>{{getFormControl('phone')?.errors?.['pattern'] && ' / Solo numeros'}}</span>
              </div>
      </div>
      <div class="form-group">
        <label for="">Rol</label>
        <input type="text"
               class="form-control"
               name="role"
               formControlName="role"
               >
               <span *ngIf="!getFormControl('role')?.valid && !getFormControl('role')?.pristine" class="hint">Campo requerido</span>
               <!-- <span [hidden]="password.valid || password.pristine" class="hint">Campo requerido</span> -->
      </div>

      <div class="form-group">
        <button [disabled]="formUser.invalid">Guardar</button>
      </div>


    </form>
  </div>
  <!-- <div class="permissionsList">
    <table class="customTable" >

      <thead>
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Telefono</th>
          <th>Password</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let us of usersData">
          <td>{{us.name}}</td>
          <td>{{us.email}}</td>
          <td>{{us.telefono}}</td>
          <td>{{us.password}}</td>
        </tr>
      </tbody>
    </table>
  </div> -->

<app-table-info></app-table-info>
<!-- <app-custom-table (onUpdate)="onUpdateTable($event)" (onDelete)="onDeleteTable($event)" [tableData]="tableData"></app-custom-table> -->
<!-- <app-custom-table  (onDelete)="onDeleteTable($event)" [tableData]="tableData"></app-custom-table> -->

<!-- <mat-form-field>
  <mat-label>Filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
</mat-form-field>
<div class="mat-elevation-z8">
<table mat-table [dataSource]="dataSource" matSort>



  <ng-container matColumnDef="n_ide">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Identificacion </th>
    <td mat-cell *matCellDef="let element"> {{element.n_ide}} </td>
  </ng-container>


  <ng-container matColumnDef="nombre">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
    <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
  </ng-container>


  <ng-container matColumnDef="mail">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Correo </th>
    <td mat-cell *matCellDef="let element"> {{element.mail}} </td>
  </ng-container>


  <ng-container matColumnDef="c_emp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Empresa </th>
    <td mat-cell *matCellDef="let element"> {{element.c_emp}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
  </tr>

</table>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div> -->


<mat-form-field>
  <mat-label>Filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
</mat-form-field>

<div class="mat-elevation-z8" style="overflow: auto; max-height: 500px;">
  <table mat-table [dataSource]="dataSource" matSort #sort>

    <!-- ID Column -->
    <ng-container matColumnDef="n_ide">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
      <td mat-cell *matCellDef="let row"> {{row.n_ide}} </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="nombre">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
      <td mat-cell *matCellDef="let row"> {{row.nombre}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="mail">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Correo </th>
      <td mat-cell *matCellDef="let row"> {{row.mail}} </td>
    </ng-container>

    <!-- Fruit Column -->
    <ng-container matColumnDef="c_emp">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Empresa </th>
      <td mat-cell *matCellDef="let row"> {{row.c_emp}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
    </tr>
  </table>

  <mat-paginator #paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div>






</section>
